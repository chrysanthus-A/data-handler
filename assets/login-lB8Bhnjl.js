import{r,j as e,c as x,b as v}from"./App-7igUDzL4.js";const j="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20576%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.1%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20d='M288%2032c-80.8%200-145.5%2036.8-192.6%2080.6C48.6%20156%2017.3%20208%202.5%20243.7c-3.3%207.9-3.3%2016.7%200%2024.6C17.3%20304%2048.6%20356%2095.4%20399.4C142.5%20443.2%20207.2%20480%20288%20480s145.5-36.8%20192.6-80.6c46.8-43.5%2078.1-95.4%2093-131.1c3.3-7.9%203.3-16.7%200-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5%2068.8%20368.8%2032%20288%2032zM144%20256a144%20144%200%201%201%20288%200%20144%20144%200%201%201%20-288%200zm144-64c0%2035.3-28.7%2064-64%2064c-7.1%200-13.9-1.2-20.3-3.3c-5.5-1.8-11.9%201.6-11.7%207.4c.3%206.9%201.3%2013.8%203.2%2020.7c13.7%2051.2%2066.4%2081.6%20117.6%2067.9s81.6-66.4%2067.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2%206.1-7.4%2011.7c2.1%206.4%203.3%2013.2%203.3%2020.3z'/%3e%3c/svg%3e";function E(n){const[d,_]=r.useState(n.login_label===void 0?"Login":n.login_label),[m,B]=r.useState(n.create_label===void 0?"Create New Account":n.create_label),[p,I]=r.useState(n.alt_login===void 0?"Create New Account?":n.alt_login),[y,C]=r.useState(n.alt_create===void 0?"Login Using Existing Account":n.alt_create);let l=n.base;async function w(){const t="/login",s=document.getElementById("username"),a=document.getElementById("password"),c=document.getElementById("status"),u={method:"post",body:JSON.stringify({user:s.value,pwd:a.value})};console.log(l+t);const g=new Request(l+t,u);let o=await fetch(g);if(o=await o.json(),console.log(o),c.innerHTML=o.auth,o.code===200){window.sessionStorage.setItem("token",o.auth_token);let i=document.createElement("a");i.href=n.on_success,document.body.appendChild(i),i.click(),i.remove()}}async function h(){const t="/newuser",s=document.getElementById("username"),a=document.getElementById("password"),c=document.getElementById("status"),u={method:"post",body:JSON.stringify({user:s.value,pwd:a.value})};console.log(l+t);const g=new Request(l+t,u);let o=await fetch(g);o=await o.json(),c.innerHTML=o.auth}async function b(){const t=document.getElementById("createlabel"),s=document.getElementById("action"),a=document.getElementById("loginbutton"),c=document.getElementById("registerbutton");document.getElementById("username").value="",document.getElementById("password").value="",s.innerHTML===d?(s.innerHTML=m,t.innerHTML=y,a.style.display="none",c.style.display="block"):s.innerHTML===m&&(s.innerHTML=d,t.innerHTML=p,a.style.display="block",c.style.display="none")}function f(){const t=document.getElementById("password"),s=document.getElementById("eye");t.type==="password"?(s.classList.add("eyeimg-pressed"),t.type="text"):(s.classList.remove("eyeimg-pressed"),t.type="password")}return e.jsxs("div",{className:"container",children:[e.jsx("h2",{id:"action",children:d}),e.jsxs("form",{action:"",children:[e.jsx("label",{htmlFor:"username",children:"Username:"}),e.jsx("input",{type:"text",id:"username",name:"username",placeholder:"Enter your username"}),e.jsx("label",{htmlFor:"password",children:"Password:"}),e.jsxs("div",{id:"pwd",children:[e.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Enter your password"}),e.jsx("img",{src:j,className:"eyeimg",id:"eye",onClick:f,alt:"show password"})]}),e.jsx("label",{htmlFor:"status",id:"status"}),e.jsxs("div",{className:"LoginBtnDiv",children:[e.jsx("button",{type:"button",onClick:w,id:"loginbutton",children:"Login"}),e.jsx("button",{type:"button",onClick:h,id:"registerbutton",children:"Register"})]}),e.jsxs("div",{className:"OtherOptions",children:[e.jsx("a",{href:"",className:"forgot-password",children:"Forgot password?"}),e.jsx("label",{href:"",className:"New-account",onClick:b,id:"createlabel",children:m})]})]})]})}const L=x.createRoot(document.getElementById("left-pane"));L.render(e.jsx(E,{base:v,on_success:"workspace"}));
