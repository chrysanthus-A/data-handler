import{j as i,g as ie,r as w,c as re,b as Pe}from"./App-toYyzrjr.js";import{g as ge,a as he,_ as C,u as me,b as Ve,c as le,d as se,o as ke,e as Ae,f as Ge,s as H,h as be,i as He,j as xe,k as Ue,T as Ke,l as Qe,m as Ne,n as Ee,p as ce,B as Xe}from"./utils-hoRTKaTm.js";const Ye="data:image/png;base64,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";function $e(e){e.base;const t=async s=>{let r={method:"GET"},c,g=s.target.value;switch(g){case"Workspaces":c=await ie("/workspaces/tree",r),oe(c,"filediv",g);break;case"Projects":c=await ie("/projects/tree",r),oe(c,"filediv",g);break;case"Pages":c=await ie("/pages/tree",r),oe(c,"filediv",g);break}};function n(){const s=document.getElementById("header-dropdown");let r=s.length;for(let c=0;c<r;c++)s[c].className="items"}return i.jsxs(i.Fragment,{children:[i.jsx("img",{src:Ye,alt:"Fervid Pro LTD",className:"logo",onLoad:async()=>{let s=await ie("/workspaces/tree",{method:"GET"});oe(s,"filediv","Workspaces")}}),i.jsxs("select",{name:"dropdown",id:"header-dropdown",onClick:n,onChange:t,children:[i.jsx("option",{value:"Workspaces",defaultValue:!0,children:"Workspaces"}),i.jsx("option",{value:"Projects",children:"Projects"}),i.jsx("option",{value:"Pages",children:"Pages"})]})]})}function _e(e){return ge("MuiTreeView",e)}he("MuiTreeView",["root"]);const Re={instance:null,multiSelect:!1,disabledItemsFocusable:!1,treeId:void 0,icons:{defaultCollapseIcon:null,defaultExpandIcon:null,defaultParentIcon:null,defaultEndIcon:null}},De=w.createContext(Re),Je=(e,t)=>{const n=w.useRef({}),[s,r]=w.useState(()=>{const g={};return e.forEach(a=>{a.models&&Object.entries(a.models).forEach(([m,f])=>{n.current[m]={controlledProp:f.controlledProp,defaultProp:f.defaultProp,isControlled:t[f.controlledProp]!==void 0},g[m]=t[f.defaultProp]})}),g});return Object.fromEntries(Object.entries(n.current).map(([g,a])=>{const m=a.isControlled?t[a.controlledProp]:s[g];return[g,{value:m,setValue:f=>{a.isControlled||r(l=>C({},l,{[g]:f}))}}]}))};class qe{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,s={}){let r=this.events[t];r||(r={highPriority:new Map,regular:new Map},this.events[t]=r),s.isFirst?r.highPriority.set(n,!0):r.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const s=this.events[t];if(!s)return;const r=Array.from(s.highPriority.keys()),c=Array.from(s.regular.keys());for(let g=r.length-1;g>=0;g-=1){const a=r[g];s.highPriority.has(a)&&a.apply(this,n)}for(let g=0;g<c.length;g+=1){const a=c[g];s.regular.has(a)&&a.apply(this,n)}}once(t,n){const s=this;this.on(t,function r(...c){s.removeListener(t,r),n.apply(s,c)})}}const ue=(e,t)=>{const n=e.getNode(t),s=e.getNavigableChildrenIds(n.parentId),r=s.indexOf(t);if(r===0)return n.parentId;let c=s[r-1];for(;e.isNodeExpanded(c)&&e.getNavigableChildrenIds(c).length>0;)c=e.getNavigableChildrenIds(c).pop();return c},te=(e,t)=>{if(e.isNodeExpanded(t)&&e.getNavigableChildrenIds(t).length>0)return e.getNavigableChildrenIds(t)[0];let n=e.getNode(t);for(;n!=null;){const s=e.getNavigableChildrenIds(n.parentId),r=s[s.indexOf(n.id)+1];if(r)return r;n=e.getNode(n.parentId)}return null},pe=e=>{let t=e.getNavigableChildrenIds(null).pop();for(;e.isNodeExpanded(t);)t=e.getNavigableChildrenIds(t).pop();return t},fe=e=>e.getNavigableChildrenIds(null)[0],$=(e,t)=>{Object.assign(e,t)},Ze=e=>e.isPropagationStopped!==void 0,et=({instance:e})=>{const[t]=w.useState(()=>new qe),n=w.useCallback((...r)=>{const[c,g,a={}]=r;a.defaultMuiPrevented=!1,!(Ze(a)&&a.isPropagationStopped())&&t.emit(c,g,a)},[t]),s=w.useCallback((r,c)=>(t.on(r,c),()=>{t.removeListener(r,c)}),[t]);$(e,{$$publishEvent:n,$$subscribeEvent:s})},tt=[et],nt=e=>{const t=[...tt,...e.plugins],n=t.reduce((o,p)=>p.getDefaultizedParams?p.getDefaultizedParams(o):o,e),s=Je(t,n),c=w.useRef({}).current,g=w.useRef(null),a=me(g,e.rootRef),[m,f]=w.useState(()=>{const o={};return t.forEach(p=>{p.getInitialState&&Object.assign(o,p.getInitialState(n))}),o}),l=[];let d=Re;const N=o=>{const p=o({instance:c,params:n,state:m,setState:f,rootRef:g,models:s})||{};p.getRootProps&&l.push(p.getRootProps),p.contextValue&&(d=p.contextValue)};return t.forEach(N),{getRootProps:(o={})=>{const p=C({role:"tree",tabIndex:0},o,{ref:a});return l.forEach(h=>{Object.assign(p,h(o))}),p},rootRef:a,contextValue:d}},ot=["element"];function st(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}function rt(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2);if(e[r].element===t)return r;e[r].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?s=r-1:n=r+1}return n}const Oe=w.createContext({});function lt(e){const t=w.useRef(null);return w.useEffect(()=>{t.current=e},[e]),t.current}const Ce=()=>{};function at(e){const[,t]=w.useState(),{registerDescendant:n=Ce,unregisterDescendant:s=Ce,descendants:r=[],parentId:c=null}=w.useContext(Oe),g=st(r,f=>f.element===e.element),a=lt(r),m=r.some((f,l)=>a&&a[l]&&a[l].element!==f.element);return Ve(()=>{if(e.element)return n(C({},e,{index:g})),()=>{s(e.element)};t({})},[n,s,g,m,e]),{parentId:c,index:g}}function Fe(e){const{children:t,id:n}=e,[s,r]=w.useState([]),c=w.useCallback(m=>{let{element:f}=m,l=le(m,ot);r(d=>{if(d.length===0)return[C({},l,{element:f,index:0})];const N=rt(d,f);let u;if(d[N]&&d[N].element===f)u=d;else{const o=C({},l,{element:f,index:N});u=d.slice(),u.splice(N,0,o)}return u.forEach((o,p)=>{o.index=p}),u})},[]),g=w.useCallback(m=>{r(f=>f.filter(l=>m!==l.element))},[]),a=w.useMemo(()=>({descendants:s,registerDescendant:c,unregisterDescendant:g,parentId:n}),[s,c,g,n]);return i.jsx(Oe.Provider,{value:a,children:t})}function it(e){const{value:t,children:n}=e;return i.jsx(De.Provider,{value:t,children:i.jsx(Fe,{children:n})})}const ct=(e,t,n)=>{e.$$publishEvent(t,n)},dt=({instance:e,params:t})=>{const n=w.useRef({}),s=w.useCallback(f=>n.current[f],[]),r=w.useCallback(f=>{n.current[f.id]=f},[]),c=w.useCallback(f=>{const l=C({},n.current);delete l[f],n.current=l,ct(e,"removeNode",{id:f})},[e]),g=w.useCallback(f=>{if(f==null)return!1;let l=e.getNode(f);if(!l)return!1;if(l.disabled)return!0;for(;l.parentId!=null;)if(l=e.getNode(l.parentId),l.disabled)return!0;return!1},[e]),a=se(f=>Object.values(n.current).filter(l=>l.parentId===f).sort((l,d)=>l.index-d.index).map(l=>l.id));$(e,{getNode:s,updateNode:r,removeNode:c,getChildrenIds:a,getNavigableChildrenIds:f=>{let l=e.getChildrenIds(f);return t.disabledItemsFocusable||(l=l.filter(d=>!e.isNodeDisabled(d))),l},isNodeDisabled:g})},ye=({instance:e,params:t,models:n})=>{const s=w.useCallback(a=>Array.isArray(n.expanded.value)?n.expanded.value.indexOf(a)!==-1:!1,[n.expanded.value]),r=w.useCallback(a=>{var m;return!!((m=e.getNode(a))!=null&&m.expandable)},[e]),c=se((a,m)=>{if(m==null)return;let f;n.expanded.value.indexOf(m)!==-1?f=n.expanded.value.filter(l=>l!==m):f=[m].concat(n.expanded.value),t.onNodeToggle&&t.onNodeToggle(a,f),n.expanded.setValue(f)});$(e,{isNodeExpanded:s,isNodeExpandable:r,toggleNodeExpansion:c,expandAllSiblings:(a,m)=>{const f=e.getNode(m),d=e.getChildrenIds(f.parentId).filter(u=>e.isNodeExpandable(u)&&!e.isNodeExpanded(u)),N=n.expanded.value.concat(d);d.length>0&&(n.expanded.setValue(N),t.onNodeToggle&&t.onNodeToggle(a,N))}})};ye.models={expanded:{controlledProp:"expanded",defaultProp:"defaultExpanded"}};const ut=[];ye.getDefaultizedParams=e=>{var t;return C({},e,{defaultExpanded:(t=e.defaultExpanded)!=null?t:ut})};const pt=(e,t,n)=>{if(t===n)return[t,n];const s=e.getNode(t),r=e.getNode(n);if(s.parentId===r.id||r.parentId===s.id)return r.parentId===s.id?[s.id,r.id]:[r.id,s.id];const c=[s.id],g=[r.id];let a=s.parentId,m=r.parentId,f=g.indexOf(a)!==-1,l=c.indexOf(m)!==-1,d=!0,N=!0;for(;!l&&!f;)d&&(c.push(a),f=g.indexOf(a)!==-1,d=a!==null,!f&&d&&(a=e.getNode(a).parentId)),N&&!f&&(g.push(m),l=c.indexOf(m)!==-1,N=m!==null,!l&&N&&(m=e.getNode(m).parentId));const u=f?a:m,o=e.getChildrenIds(u),p=c[c.indexOf(u)-1],h=g[g.indexOf(u)-1];return o.indexOf(p)<o.indexOf(h)?[t,n]:[n,t]},we=({instance:e,params:t,models:n})=>{const s=w.useRef(null),r=w.useRef(!1),c=w.useRef([]),g=o=>Array.isArray(n.selected.value)?n.selected.value.indexOf(o)!==-1:n.selected.value===o,a=(o,p,h=!1)=>{if(!t.disableSelection){if(h){if(Array.isArray(n.selected.value)){let b;n.selected.value.indexOf(p)!==-1?b=n.selected.value.filter(y=>y!==p):b=[p].concat(n.selected.value),t.onNodeSelect&&t.onNodeSelect(o,b),n.selected.setValue(b)}}else{const b=t.multiSelect?[p]:p;t.onNodeSelect&&t.onNodeSelect(o,b),n.selected.setValue(b)}s.current=p,r.current=!1,c.current=[]}},m=(o,p)=>{const[h,b]=pt(e,o,p),y=[h];let x=h;for(;x!==b;)x=te(e,x),y.push(x);return y},f=(o,p)=>{let h=n.selected.value.slice();const{start:b,next:y,current:x}=p;!y||!x||(c.current.indexOf(x)===-1&&(c.current=[]),r.current?c.current.indexOf(y)!==-1?(h=h.filter(E=>E===b||E!==x),c.current=c.current.filter(E=>E===b||E!==x)):(h.push(y),c.current.push(y)):(h.push(y),c.current.push(x,y)),t.onNodeSelect&&t.onNodeSelect(o,h),n.selected.setValue(h))},l=(o,p)=>{let h=n.selected.value.slice();const{start:b,end:y}=p;r.current&&(h=h.filter(S=>c.current.indexOf(S)===-1));let x=m(b,y);x=x.filter(S=>!e.isNodeDisabled(S)),c.current=x;let E=h.concat(x);E=E.filter((S,k)=>E.indexOf(S)===k),t.onNodeSelect&&t.onNodeSelect(o,E),n.selected.setValue(E)};return $(e,{isNodeSelected:g,selectNode:a,selectRange:(o,p,h=!1)=>{if(t.disableSelection)return;const{start:b=s.current,end:y,current:x}=p;h?f(o,{start:b,next:y,current:x}):b!=null&&y!=null&&l(o,{start:b,end:y}),r.current=!0},rangeSelectToLast:(o,p)=>{s.current||(s.current=p);const h=r.current?s.current:p;e.selectRange(o,{start:h,end:pe(e)})},rangeSelectToFirst:(o,p)=>{s.current||(s.current=p);const h=r.current?s.current:p;e.selectRange(o,{start:h,end:fe(e)})}}),{getRootProps:()=>({"aria-multiselectable":t.multiSelect})}};we.models={selected:{controlledProp:"selected",defaultProp:"defaultSelected"}};const ft=[];we.getDefaultizedParams=e=>{var t,n,s;return C({},e,{disableSelection:(t=e.disableSelection)!=null?t:!1,multiSelect:(n=e.multiSelect)!=null?n:!1,defaultSelected:(s=e.defaultSelected)!=null?s:e.multiSelect?ft:null})};const Se=1e3;class gt{constructor(t=Se){this.timeouts=new Map,this.cleanupTimeout=Se,this.cleanupTimeout=t}register(t,n,s){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(s.cleanupToken)},this.cleanupTimeout);this.timeouts.set(s.cleanupToken,r)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class ht{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,s){this.registry.register(t,n,s)}unregister(t){this.registry.unregister(t)}reset(){}}class mt{}function bt(e){let t=0;return function(s,r,c){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new ht:new gt);const[g]=w.useState(new mt),a=w.useRef(null),m=w.useRef();m.current=c;const f=w.useRef(null);if(!a.current&&m.current){const l=(d,N)=>{if(!N.defaultMuiPrevented){var u;(u=m.current)==null||u.call(m,d,N)}};a.current=s.$$subscribeEvent(r,l),t+=1,f.current={cleanupToken:t},e.registry.register(g,()=>{var d;(d=a.current)==null||d.call(a),a.current=null,f.current=null},f.current)}else!m.current&&a.current&&(a.current(),a.current=null,f.current&&(e.registry.unregister(f.current),f.current=null));w.useEffect(()=>{if(!a.current&&m.current){const l=(d,N)=>{if(!N.defaultMuiPrevented){var u;(u=m.current)==null||u.call(m,d,N)}};a.current=s.$$subscribeEvent(r,l)}return f.current&&e.registry&&(e.registry.unregister(f.current),f.current=null),()=>{var l;(l=a.current)==null||l.call(a),a.current=null}},[s,r])}}const xt={registry:null},Nt=bt(xt),Ie=({instance:e,params:t,state:n,setState:s,models:r,rootRef:c})=>{const g=se(u=>{const o=typeof u=="function"?u(n.focusedNodeId):u;s(p=>C({},p,{focusedNodeId:o}))}),a=w.useCallback(u=>n.focusedNodeId===u,[n.focusedNodeId]),m=se((u,o)=>{o&&(g(o),t.onNodeFocus&&t.onNodeFocus(u,o))});$(e,{isNodeFocused:a,focusNode:m}),Nt(e,"removeNode",({id:u})=>{g(o=>o===u&&c.current===ke(c.current).activeElement?e.getChildrenIds(null)[0]:o)});const f=u=>o=>{var p;if((p=u.onFocus)==null||p.call(u,o),o.target===o.currentTarget){const h=y=>{const x=e.getNode(y);return x&&(x.parentId==null||e.isNodeExpanded(x.parentId))};let b;Array.isArray(r.selected.value)?b=r.selected.value.find(h):r.selected.value!=null&&h(r.selected.value)&&(b=r.selected.value),b==null&&(b=e.getNavigableChildrenIds(null)[0]),e.focusNode(o,b)}},l=u=>o=>{var p;(p=u.onBlur)==null||p.call(u,o),g(null)},d=e.getNode(n.focusedNodeId),N=d?d.idAttribute:null;return{getRootProps:u=>({onFocus:f(u),onBlur:l(u),"aria-activedescendant":N??void 0})}};Ie.getInitialState=()=>({focusedNodeId:null});Ie.getDefaultizedParams=e=>{var t;return C({},e,{disabledItemsFocusable:(t=e.disabledItemsFocusable)!=null?t:!1})};function yt(e){return e&&e.length===1&&e.match(/\S/)}function ve(e,t,n){for(let s=t;s<e.length;s+=1)if(n===e[s])return s;return-1}const wt=({instance:e,params:t,state:n})=>{const r=Ae().direction==="rtl",c=w.useRef({}),g=se((u,o)=>(c.current[u]=o,()=>{const p=C({},c.current);delete p[u],c.current=p}));$(e,{mapFirstChar:g});const a=u=>(n.focusedNodeId!=null&&e.isNodeExpandable(n.focusedNodeId)&&(e.isNodeExpanded(n.focusedNodeId)?e.focusNode(u,te(e,n.focusedNodeId)):e.isNodeDisabled(n.focusedNodeId)||e.toggleNodeExpansion(u,n.focusedNodeId)),!0),m=u=>{if(n.focusedNodeId==null)return!1;if(e.isNodeExpanded(n.focusedNodeId)&&!e.isNodeDisabled(n.focusedNodeId))return e.toggleNodeExpansion(u,n.focusedNodeId),!0;const o=e.getNode(n.focusedNodeId).parentId;return o?(e.focusNode(u,o),!0):!1},f=(u,o,p)=>{let h,b;const y=p.toLowerCase(),x=[],E=[];Object.keys(c.current).forEach(S=>{const k=e.getNode(S),T=k.parentId?e.isNodeExpanded(k.parentId):!0,B=t.disabledItemsFocusable?!1:e.isNodeDisabled(S);T&&!B&&(x.push(S),E.push(c.current[S]))}),h=x.indexOf(o)+1,h>=x.length&&(h=0),b=ve(E,h,y),b===-1&&(b=ve(E,0,y)),b>-1&&e.focusNode(u,x[b])},l=(u,o)=>{e.isNodeDisabled(te(e,o))||e.selectRange(u,{end:te(e,o),current:o},!0)},d=(u,o)=>{e.isNodeDisabled(ue(e,o))||e.selectRange(u,{end:ue(e,o),current:o},!0)},N=u=>o=>{var p;(p=u.onKeyDown)==null||p.call(u,o);let h=!1;const b=o.key;if(o.altKey||o.currentTarget!==o.target||n.focusedNodeId==null)return;const y=o.ctrlKey||o.metaKey;switch(b){case" ":!t.disableSelection&&!e.isNodeDisabled(n.focusedNodeId)&&(h=!0,t.multiSelect&&o.shiftKey?e.selectRange(o,{end:n.focusedNodeId}):t.multiSelect?e.selectNode(o,n.focusedNodeId,!0):e.selectNode(o,n.focusedNodeId)),o.stopPropagation();break;case"Enter":e.isNodeDisabled(n.focusedNodeId)||(e.isNodeExpandable(n.focusedNodeId)?(e.toggleNodeExpansion(o,n.focusedNodeId),h=!0):t.disableSelection||(h=!0,t.multiSelect?e.selectNode(o,n.focusedNodeId,!0):e.selectNode(o,n.focusedNodeId))),o.stopPropagation();break;case"ArrowDown":t.multiSelect&&o.shiftKey&&!t.disableSelection&&l(o,n.focusedNodeId),e.focusNode(o,te(e,n.focusedNodeId)),h=!0;break;case"ArrowUp":t.multiSelect&&o.shiftKey&&!t.disableSelection&&d(o,n.focusedNodeId),e.focusNode(o,ue(e,n.focusedNodeId)),h=!0;break;case"ArrowRight":r?h=m(o):h=a(o);break;case"ArrowLeft":r?h=a(o):h=m(o);break;case"Home":t.multiSelect&&y&&o.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(n.focusedNodeId)&&e.rangeSelectToFirst(o,n.focusedNodeId),e.focusNode(o,fe(e)),h=!0;break;case"End":t.multiSelect&&y&&o.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(n.focusedNodeId)&&e.rangeSelectToLast(o,n.focusedNodeId),e.focusNode(o,pe(e)),h=!0;break;default:b==="*"?(e.expandAllSiblings(o,n.focusedNodeId),h=!0):t.multiSelect&&y&&b.toLowerCase()==="a"&&!t.disableSelection?(e.selectRange(o,{start:fe(e),end:pe(e)}),h=!0):!y&&!o.shiftKey&&yt(b)&&(f(o,n.focusedNodeId,b),h=!0)}h&&(o.preventDefault(),o.stopPropagation())};return{getRootProps:u=>({onKeyDown:N(u)})}},It=({instance:e,params:t})=>{const n=Ge(t.id);return{getRootProps:()=>({id:n}),contextValue:{treeId:n,instance:e,multiSelect:t.multiSelect,disabledItemsFocusable:t.disabledItemsFocusable,icons:{defaultCollapseIcon:t.defaultCollapseIcon,defaultEndIcon:t.defaultEndIcon,defaultExpandIcon:t.defaultExpandIcon,defaultParentIcon:t.defaultParentIcon}}}},Et=[dt,ye,we,Ie,wt,It],Ct=["disabledItemsFocusable","expanded","defaultExpanded","onNodeToggle","onNodeFocus","disableSelection","defaultSelected","selected","multiSelect","onNodeSelect","id","defaultCollapseIcon","defaultEndIcon","defaultExpandIcon","defaultParentIcon","children"],St=e=>{const{classes:t}=e;return xe({root:["root"]},_e,t)},Te=H("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0}),vt=w.forwardRef(function(t,n){const s=be({props:t,name:"MuiTreeView"}),r=s,c=s,{disabledItemsFocusable:g,expanded:a,defaultExpanded:m,onNodeToggle:f,onNodeFocus:l,disableSelection:d,defaultSelected:N,selected:u,multiSelect:o,onNodeSelect:p,id:h,defaultCollapseIcon:b,defaultEndIcon:y,defaultExpandIcon:x,defaultParentIcon:E,children:S}=c,k=le(c,Ct),{getRootProps:T,contextValue:B}=nt({disabledItemsFocusable:g,expanded:a,defaultExpanded:m,onNodeToggle:f,onNodeFocus:l,disableSelection:d,defaultSelected:N,selected:u,multiSelect:o,onNodeSelect:p,id:h,defaultCollapseIcon:b,defaultEndIcon:y,defaultExpandIcon:x,defaultParentIcon:E,plugins:Et,rootRef:n}),v=St(s),A=He({elementType:Te,externalSlotProps:{},externalForwardedProps:k,className:v.root,getSlotProps:T,ownerState:r});return i.jsx(it,{value:B,children:i.jsx(Te,C({},A,{children:S}))})});function Tt(e){return ge("MuiCollapse",e)}he("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const jt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Pt=e=>{const{orientation:t,classes:n}=e,s={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return xe(s,Tt,n)},kt=H("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>C({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&C({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),At=H("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>C({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Rt=H("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>C({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Be=w.forwardRef(function(t,n){const s=be({props:t,name:"MuiCollapse"}),{addEndListener:r,children:c,className:g,collapsedSize:a="0px",component:m,easing:f,in:l,onEnter:d,onEntered:N,onEntering:u,onExit:o,onExited:p,onExiting:h,orientation:b="vertical",style:y,timeout:x=Ue.standard,TransitionComponent:E=Ke}=s,S=le(s,jt),k=C({},s,{orientation:b,collapsedSize:a}),T=Pt(k),B=Ae(),v=Qe(),A=w.useRef(null),U=w.useRef(),K=typeof a=="number"?`${a}px`:a,z=b==="horizontal",G=z?"width":"height",Q=w.useRef(null),_=me(n,Q),L=I=>P=>{if(I){const F=Q.current;P===void 0?I(F):I(F,P)}},M=()=>A.current?A.current[z?"clientWidth":"clientHeight"]:0,X=L((I,P)=>{A.current&&z&&(A.current.style.position="absolute"),I.style[G]=K,d&&d(I,P)}),ae=L((I,P)=>{const F=M();A.current&&z&&(A.current.style.position="");const{duration:j,easing:W}=Ee({style:y,timeout:x,easing:f},{mode:"enter"});if(x==="auto"){const Y=B.transitions.getAutoHeightDuration(F);I.style.transitionDuration=`${Y}ms`,U.current=Y}else I.style.transitionDuration=typeof j=="string"?j:`${j}ms`;I.style[G]=`${F}px`,I.style.transitionTimingFunction=W,u&&u(I,P)}),J=L((I,P)=>{I.style[G]="auto",N&&N(I,P)}),q=L(I=>{I.style[G]=`${M()}px`,o&&o(I)}),Z=L(p),O=L(I=>{const P=M(),{duration:F,easing:j}=Ee({style:y,timeout:x,easing:f},{mode:"exit"});if(x==="auto"){const W=B.transitions.getAutoHeightDuration(P);I.style.transitionDuration=`${W}ms`,U.current=W}else I.style.transitionDuration=typeof F=="string"?F:`${F}ms`;I.style[G]=K,I.style.transitionTimingFunction=j,h&&h(I)}),ee=I=>{x==="auto"&&v.start(U.current||0,I),r&&r(Q.current,I)};return i.jsx(E,C({in:l,onEnter:X,onEntered:J,onEntering:ae,onExit:q,onExited:Z,onExiting:O,addEndListener:ee,nodeRef:Q,timeout:x==="auto"?null:x},S,{children:(I,P)=>i.jsx(kt,C({as:m,className:Ne(T.root,g,{entered:T.entered,exited:!l&&K==="0px"&&T.hidden}[I]),style:C({[z?"minWidth":"minHeight"]:K},y),ownerState:C({},k,{state:I}),ref:_},P,{children:i.jsx(At,{ownerState:C({},k,{state:I}),className:T.wrapper,ref:A,children:i.jsx(Rt,{ownerState:C({},k,{state:I}),className:T.wrapperInner,children:c})})}))}))});Be.muiSupportAuto=!0;const Le=Be,Me=()=>w.useContext(De);function Dt(e){const{instance:t,multiSelect:n}=Me(),s=t?t.isNodeExpandable(e):!1,r=t?t.isNodeExpanded(e):!1,c=t?t.isNodeFocused(e):!1,g=t?t.isNodeSelected(e):!1,a=t?t.isNodeDisabled(e):!1;return{disabled:a,expanded:r,selected:g,focused:c,handleExpansion:d=>{if(t&&!a){c||t.focusNode(d,e);const N=n&&(d.shiftKey||d.ctrlKey||d.metaKey);s&&!(N&&t.isNodeExpanded(e))&&t.toggleNodeExpansion(d,e)}},handleSelection:d=>{t&&!a&&(c||t.focusNode(d,e),n&&(d.shiftKey||d.ctrlKey||d.metaKey)?d.shiftKey?t.selectRange(d,{end:e}):t.selectNode(d,e,!0):t.selectNode(d,e))},preventSelection:d=>{(d.shiftKey||d.ctrlKey||d.metaKey||a)&&d.preventDefault()}}}const Ot=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],We=w.forwardRef(function(t,n){const{classes:s,className:r,displayIcon:c,expansionIcon:g,icon:a,label:m,nodeId:f,onClick:l,onMouseDown:d}=t,N=le(t,Ot),{disabled:u,expanded:o,selected:p,focused:h,handleExpansion:b,handleSelection:y,preventSelection:x}=Dt(f),E=a||g||c,S=T=>{x(T),d&&d(T)},k=T=>{b(T),y(T),l&&l(T)};return i.jsxs("div",C({},N,{className:Ne(r,s.root,o&&s.expanded,p&&s.selected,h&&s.focused,u&&s.disabled),onClick:k,onMouseDown:S,ref:n,children:[i.jsx("div",{className:s.iconContainer,children:E}),i.jsx("div",{className:s.label,children:m})]}))});function Ft(e){return ge("MuiTreeItem",e)}const V=he("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]),Bt=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Lt=e=>{const{classes:t}=e;return xe({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},Ft,t)},Mt=H("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),Wt=H(We,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${V.iconContainer}`]:t.iconContainer},t.label&&{[`& .${V.label}`]:t.label}]})(({theme:e})=>({padding:"0 8px",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${V.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${V.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${V.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ce(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ce(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ce(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${V.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ce(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${V.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${V.label}`]:C({paddingLeft:4,width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),zt=H(Le,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,t)=>t.group})({margin:0,padding:0,marginLeft:17}),Vt=w.forwardRef(function(t,n){const s=be({props:t,name:"MuiTreeItem"}),{children:r,className:c,collapseIcon:g,ContentComponent:a=We,ContentProps:m,endIcon:f,expandIcon:l,disabled:d,icon:N,id:u,label:o,nodeId:p,onClick:h,onMouseDown:b,TransitionComponent:y=Le,TransitionProps:x}=s,E=le(s,Bt),{icons:S,multiSelect:k,disabledItemsFocusable:T,treeId:B,instance:v}=Me();let A;u!=null?A=u:B&&p&&(A=`${B}-${p}`);const[U,K]=w.useState(null),z=w.useRef(null),G=me(K,n),Q=w.useMemo(()=>({element:U,id:p}),[p,U]),{index:_,parentId:L}=at(Q),M=!!(Array.isArray(r)?r.length:r),X=v?v.isNodeExpanded(p):!1,ae=v?v.isNodeFocused(p):!1,J=v?v.isNodeSelected(p):!1,q=v?v.isNodeDisabled(p):!1,Z=C({},s,{expanded:X,focused:ae,selected:J,disabled:q}),O=Lt(Z);let ee,I;M&&(X?I=g||S.defaultCollapseIcon:I=l||S.defaultExpandIcon),M?ee=S.defaultParentIcon:ee=f||S.defaultEndIcon,w.useEffect(()=>{if(v&&_!==-1)return v.updateNode({id:p,idAttribute:A,index:_,parentId:L,expandable:M,disabled:d}),()=>v.removeNode(p)},[v,L,_,p,M,d,A]),w.useEffect(()=>{if(v&&o){var j,W;return v.mapFirstChar(p,((j=(W=z.current)==null?void 0:W.textContent)!=null?j:"").substring(0,1).toLowerCase())}},[v,p,o]);let P;k?P=J:J&&(P=!0);function F(j){if(j.target===j.currentTarget){let Y;typeof j.target.getRootNode=="function"?Y=j.target.getRootNode():Y=ke(j.target),Y.getElementById(B).focus({preventScroll:!0})}const W=!T&&q;v&&!ae&&j.currentTarget===j.target&&!W&&v.focusNode(j,p)}return i.jsxs(Mt,C({className:Ne(O.root,c),role:"treeitem","aria-expanded":M?X:void 0,"aria-selected":P,"aria-disabled":q||void 0,id:A,tabIndex:-1},E,{ownerState:Z,onFocus:F,ref:G,children:[i.jsx(Wt,C({as:a,ref:z,classes:{root:O.content,expanded:O.expanded,selected:O.selected,focused:O.focused,disabled:O.disabled,iconContainer:O.iconContainer,label:O.label},label:o,nodeId:p,onClick:h,onMouseDown:b,icon:N,expansionIcon:I,displayIcon:ee,ownerState:Z},m)),r&&i.jsx(Fe,{id:p,children:i.jsx(zt,C({as:y,unmountOnExit:!0,className:O.group,in:X,component:"ul",role:"group"},x,{children:r}))})]}))});let ze={};function Gt(e){const[t,n]=w.useState({});w.useEffect(()=>{ze=t},[t]);let s=e.data;const r=g=>{let a={},m=g.target,l=(d=>d.parentNode.parentNode.parentNode)(m);a.hierarchy_ID=l.getAttribute("data-hierarchyID"),a.hierarchy=l.getAttribute("data-hierarchy"),a.name=m.innerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),a.type=l.id,a.ws=l.getAttribute("data-ws"),a.page=l.getAttribute("data-pg"),a.project=l.getAttribute("data-pj"),n(a)},c=(g,a=e.root,m=null,f=null,l="root")=>{let d,N=null;return a==="Workspaces"?(d="Projects",m=g.name):a==="Projects"?(d="Pages",f=g.name):N=g.name,i.jsx("div",{id:a,"data-ws":m,"data-pj":f,"data-pg":N,"data-hierarchy":g.hierarchy,"data-hierarchyID":g.hierarchy_ID,children:i.jsx(Vt,{nodeId:g.id,label:g.name,children:Array.isArray(g.children)?g.children.map(o=>c(o,d,m,f,g.id)):null},g.id)})};return i.jsx(Xe,{sx:{minHeight:180,flexGrow:1,maxWidth:300},children:i.jsx(vt,{onNodeSelect:r,"aria-label":"rich object",defaultCollapseIcon:"-",defaultExpanded:e.default,defaultExpandIcon:"+",children:s.map(g=>i.jsx("span",{children:c(g)}))})})}function de(){return ze}const ne=document.getElementById("popup2"),je=re.createRoot(ne);let D="";async function R(e,t){let n=window.sessionStorage.getItem("token");t.headers={auth:n||null};let s=new Request(Pe+e,t),r=await fetch(s);r=await r.json();try{r.code!==200&&window.location.replace("/data-handler/login")}catch{}return r.data}function Ht(e){const[t,n]=w.useState("Workspaces");w.useEffect(()=>{D=t},[t]);const s=async l=>{document.getElementById("tabs").childNodes.forEach(N=>{N.classList.remove("btn-clicked")}),l.target.classList.add("btn-clicked"),await r(l.target.innerHTML,"listdiv")};async function r(l,d,N=null){let u={method:"GET"},o;switch(l){case"Workspaces":n("Workspaces"),o=await R("/workspaces/tree",u);break;case"Projects":n("Projects"),o=await R("/projects/tree",u);break;case"Pages":n("Pages"),o=await R("/pages/tree",u);break}oe(o,d,l,N)}async function c(){let l=de();const d=()=>{ne.classList.remove("open-popup2")};ne.classList.add("open-popup2"),je.render(i.jsx(g,{close:d,type:l.type,name:l.name,data:l}))}function g(l){async function d(N,u,o){let p=document.getElementById("new-name").value,h,b,y,x;switch(N){case"Workspaces":h={method:"POST",body:JSON.stringify({WS_old:u,WS_new:p})},await R("/workspaces/rename",h);break;case"Projects":b=o.hierarchy.split("-//-"),y=b[0],h={method:"POST",body:JSON.stringify({Pold:u,Pnew:p,WSname:y})},await R("/projects/rename",h);break;case"Pages":b=o.hierarchy.split("-//-"),y=b[0],x=b[1],h={method:"POST",body:JSON.stringify({PGold:u,PGnew:p,WSname:y,Pname:x})},await R("/pages/rename",h);break}r(D,"listdiv",o.hierarchy_ID.split("-//-"))}return i.jsxs("div",{className:"container2",children:[i.jsx("div",{className:"exitButton",children:i.jsx("button",{type:"button",onClick:l.close,children:"X"})}),i.jsxs("div",{className:"ws-name-input",children:[i.jsxs("label",{htmlFor:"ws-name",children:["Selected Type: ",l.type]}),i.jsxs("label",{htmlFor:"ws-name",children:["Current Name: ",l.name]}),i.jsx("label",{htmlFor:"ws-name",children:"New Name:"}),i.jsx("input",{type:"text",className:"ws-name",id:"new-name",placeholder:"Type new name here"})]}),i.jsx("div",{className:"submit-button",children:i.jsx("button",{type:"button",onClick:()=>d(l.type,l.name,l.data),children:"Rename"})})]})}async function a(){let l=de(),d;switch(l.type){case"Workspaces":d={method:"POST",body:JSON.stringify({WSname:l.name})},await R("/workspaces/delete",d);break;case"Projects":d={method:"POST",body:JSON.stringify({WSname:l.ws,Pname:l.name})},await R("/projects/delete",d);break;case"Pages":d={method:"POST",body:JSON.stringify({WSname:l.ws,Pname:l.project,PGname:l.name})},await R("/pages/delete",d);break}r(t,"listdiv",l.hierarchy_ID.split("-//-").slice(0,-1))}function m(){const l=()=>{try{document.getElementById("error-log").innerHTML="",document.getElementById("ws-name").value="",document.getElementById("pj-name").value="",document.getElementById("pg-name").value=""}catch{}ne.classList.remove("open-popup2")};ne.classList.add("open-popup2"),je.render(i.jsx(f,{close:l}))}function f(l){async function d({ws:u=!1,pj:o=!1,pg:p=!1}){window.sessionStorage.getItem("token");let h;if(u){let b=document.getElementById("ws-name").value,y={method:"POST",body:JSON.stringify({name:b})};h=await R("/workspaces/tree",y)}else if(o){let b=document.getElementById("pj-name").value,y=document.getElementById("ws-name").value,x={method:"POST",body:JSON.stringify({Pname:b,w_name:y})};h=await R("/projects/tree",x)}else if(p){let b=document.getElementById("pj-name").value,y=document.getElementById("ws-name").value,x=document.getElementById("pg-name").value,E={method:"POST",body:JSON.stringify({Pname:b,WSname:y,PGname:x})};h=await R("/pages/tree",E)}h.code===405?document.getElementById("error-log").innerHTML=h.status:r(D,"listdiv")}async function N({ws:u=!1,pj:o=!1,ws_name:p=null,clear:h=!1}){try{(u||h)&&document.getElementById("ws-data").remove(),(o||h)&&document.getElementById("pj-data").remove()}catch{}const b={method:"GET"};if(u){let y=await R("/workspaces",b),x=document.createElement("datalist");x.id="ws-data",console.log(y),y.forEach(E=>{let S=document.createElement("option");S.setAttribute("value",E),x.appendChild(S)}),document.body.appendChild(x)}if(o){b.method="POST",b.body=JSON.stringify({wsName:p});let y=await R("/projects",b),x=document.createElement("datalist");x.id="pj-data",console.log(y),y.forEach(E=>{let S=document.createElement("option");S.setAttribute("value",E),x.appendChild(S)}),document.body.appendChild(x)}}if(D==="Workspaces")return N({clear:!0}),i.jsxs("div",{className:"container2",children:[i.jsx("div",{className:"exitButton",children:i.jsx("button",{type:"button",onClick:l.close,children:"X"})}),i.jsxs("div",{className:"ws-name-input",children:[i.jsxs("label",{htmlFor:"ws-name",children:[D," Name:"]}),i.jsx("input",{type:"text",className:"ws-name",id:"ws-name",placeholder:`Enter the name of the ${D} here`}),i.jsx("label",{id:"error-log"})]}),i.jsx("div",{className:"submit-button",children:i.jsx("button",{type:"button",onClick:()=>{N({clear:!0}),d({ws:!0})},children:"Create"})})]});if(D==="Projects")return N({ws:!0}),i.jsxs("div",{className:"container2",children:[i.jsx("div",{className:"exitButton",children:i.jsx("button",{type:"button",onClick:l.close,children:"X"})}),i.jsxs("div",{className:"ws-name-input",children:[i.jsx("label",{htmlFor:"ws-name",children:"Workspace Name:"}),i.jsx("input",{type:"text",className:"ws-name",id:"ws-name",placeholder:"Enter Workspace Name",list:"ws-data",autoComplete:"false"}),i.jsxs("label",{htmlFor:"ws-name",children:[D," Name:"]}),i.jsx("input",{type:"text",className:"ws-name",id:"pj-name",placeholder:`Enter the name of the ${D} here`}),i.jsx("label",{id:"error-log"})]}),i.jsx("div",{className:"submit-button",children:i.jsx("button",{type:"button",onClick:()=>{N({clear:!0}),d({pj:!0})},children:"Create"})})]});if(D==="Pages")return N({ws:!0}),i.jsxs("div",{className:"container2",children:[i.jsx("div",{className:"exitButton",children:i.jsx("button",{type:"button",onClick:l.close,children:"X"})}),i.jsxs("div",{className:"ws-name-input",children:[i.jsx("label",{htmlFor:"ws-name",children:"Workspace Name:"}),i.jsx("input",{type:"text",className:"ws-name",id:"ws-name",placeholder:"Select Workspace",list:"ws-data",autoComplete:"false",onChange:u=>N({pj:!0,ws_name:u.target.value})}),i.jsx("label",{htmlFor:"ws-name",children:"Project Name:"}),i.jsx("input",{type:"text",className:"ws-name",id:"pj-name",placeholder:"Select Project",list:"pj-data",autoComplete:"false"}),i.jsxs("label",{htmlFor:"ws-name",children:[D," Name:"]}),i.jsx("input",{type:"text",className:"ws-name",id:"pg-name",placeholder:`Enter the name of the ${D} here`}),i.jsx("label",{id:"error-log"})]}),i.jsx("div",{className:"submit-button",children:i.jsx("button",{type:"button",onClick:()=>{N({clear:!0}),d({pg:!0})},children:"Create"})})]})}return i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"exitButton",children:[i.jsx("label",{children:i.jsxs("h4",{children:["Manage ",t]})}),i.jsx("button",{type:"button",onClick:e.close,children:"X"})]}),i.jsxs("div",{className:"tabs",id:"tabs",children:[i.jsx("button",{className:"tabBtns",onClick:s,children:"Workspaces"}),i.jsx("button",{className:"tabBtns",onClick:s,children:"Projects"}),i.jsx("button",{className:"tabBtns",onClick:s,children:"Pages"})]}),i.jsxs("div",{className:"main",children:[i.jsx("div",{className:"lists",id:"listdiv"}),i.jsxs("div",{className:"actions",children:[i.jsx("button",{type:"button",onClick:m,id:"addBtn",children:"Add"}),i.jsx("button",{type:"button",onClick:a,id:"removeBtn",children:"Remove"}),i.jsx("button",{type:"button",onClick:c,id:"renameBtn",children:"Rename"})]})]})]})}const Ut=re.createRoot(document.getElementById("headdiv")),Kt=re.createRoot(document.getElementById("popup")),Qt=re.createRoot(document.getElementById("buttonsdiv"));Ut.render(i.jsx($e,{base:Pe}));const Xt=i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",id:"open_btn",onClick:Yt,children:"Open Model"}),i.jsx("button",{type:"button",onClick:$t,children:"Manage Models"})]});Qt.render(Xt);async function Yt(){let e=de();console.log(e);let t=e.hierarchy.split("-//-");try{let n=t[0],s=t[1],r=t[2],c={};c.ws=n,c.pj=s,c.pg=r||null,window.sessionStorage.setItem("pagedata",JSON.stringify(c)),console.log(c),window.location.replace("/data-handler/home")}catch(n){console.log(n)}}function oe(e,t,n="Workspaces",s=["root"]){let r=document.getElementById(t),c=re.createRoot(r);r.addEventListener("click",()=>{de().type!=="Workspaces"?document.getElementById("open_btn").disabled=!1:document.getElementById("open_btn").disabled=!0}),c.render(i.jsx(Gt,{data:e,default:s,root:n}))}async function $t(){const e=document.getElementById("popup"),t=()=>{e.classList.remove("open-popup")};e.classList.add("open-popup"),Kt.render(i.jsx(Ht,{close:t}))}
